CREATE TABLE Turma (
    Ano_Escolar VARCHAR(2) CHECK (Ano_Escolar IN ('1M','1T','2M','2T','3M','3T','4M','4T','5M','5T','6M','6T')) NOT NULL,
    PRIMARY KEY (Ano_Escolar)
);

CREATE TABLE Aluno (
    Matricula SERIAL,
    Nome VARCHAR(50) NOT NULL,
    Data_Nascimento DATE NOT NULL,
    Comorbidades VARCHAR(200) NULL,
    Ano_Escolar VARCHAR(2) CHECK (Ano_Escolar IN ('1M','1T','2M','2T','3M','3T','4M','4T','5M','5T','6M','6T')) NOT NULL,
    PRIMARY KEY (Matricula),
    FOREIGN KEY (Ano_Escolar) REFERENCES Turma(Ano_Escolar) ON DELETE CASCADE
);

CREATE TABLE Responsavel (
    Matricula INT,
    Nome VARCHAR(50) NOT NULL,
    Telefone VARCHAR(15),
    CPF CHAR(11) NOT NULL,
    Endereco VARCHAR(100),
    PRIMARY KEY (Matricula),
    FOREIGN KEY (Matricula) REFERENCES Aluno(Matricula) ON DELETE CASCADE
);

CREATE TABLE Substituto (
    Matricula INT,
    Nome VARCHAR(50) NOT NULL,
    Telefone VARCHAR(15),
    CPF CHAR(11) NOT NULL,
    Endereco VARCHAR(100),
    PRIMARY KEY (Matricula),
    FOREIGN KEY (Matricula) REFERENCES Responsavel(Matricula) ON DELETE CASCADE
);

CREATE TABLE Professor (
    Ano_Escolar VARCHAR(2) CHECK (Ano_Escolar IN ('1M','1T','2M','2T','3M','3T','4M','4T','5M','5T','6M','6T')) NOT NULL,
    Nome VARCHAR(50) NOT NULL,
    Telefone VARCHAR(15),
    CPF CHAR(11) NOT NULL,
    Endereco VARCHAR(100),
    Formacao_Academica VARCHAR(100),
    PRIMARY KEY (Ano_Escolar),
    FOREIGN KEY (Ano_Escolar) REFERENCES Turma(Ano_Escolar) ON DELETE CASCADE
);
